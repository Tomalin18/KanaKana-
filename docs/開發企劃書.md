# KanaKana (かなカナ) 專案開發計劃書

## 📋 專案概述

### 1.1 專案背景

Kana Tower 是一款專為日語學習者設計的創新打字練習遊戲。專案採用 React Native + Expo 技術棧，提供流暢的跨平台移動應用體驗。

### 1.2 專案願景

- **教育價值**：幫助全球290萬日語學習者提升假名打字速度和準確性
- **遊戲化學習**：結合娛樂與教育，創造吸引人的學習體驗
- **文化融合**：採用正宗日式設計理念，提供沉浸式學習環境

### 1.3 目標用戶

- **主要用戶**：日語學習者（N5-N1級別）
- **次要用戶**：日語教育工作者、語言學習愛好者
- **地理分布**：全球市場，重點關注亞洲和北美地區

---

## 🎯 專案目標與成功指標

### 2.1 核心目標

- 開發一款世界級的日語打字練習遊戲
- 提供多樣化的遊戲模式和學習體驗
- 建立可持續發展的技術架構
- 實現高質量的用戶體驗和教育效果

### 2.2 成功指標 (KPIs)

| 指標類型 | 目標值 | 測量週期 |
| --- | --- | --- |
| 用戶留存率 | 7天 > 60% | 週度 |
| 平均會話時長 | > 3分鐘 | 日度 |
| 打字速度提升 | 10會話後可測量 | 月度 |
| App Store評分 | > 4.2/5.0 | 持續 |
| 當機率 | < 0.1% | 日度 |
| 月活躍用戶 | 100K+ | 月度 |

---

## 🏗️ 技術架構

### 3.1 技術棧

- **前端框架**：React Native 0.79.3 + Expo SDK 53.0.0
- **程式語言**：TypeScript 5.3.3（嚴格模式）
- **狀態管理**：Zustand + Immer
- **導航系統**：React Navigation 6.x
- **動畫引擎**：React Native Reanimated 3.x
- **UI組件**：自定義組件 + React Native Elements
- **資料存儲**：AsyncStorage + CSV檔案

### 3.2 專案結構

```
src/
├── components/          # 可重用UI組件
│   └── common/         # 通用組件（ErrorBoundary、Modal等）
├── screens/            # 畫面組件
│   ├── common/         # 通用畫面（LoadingScreen等）
│   ├── game-modes/     # 遊戲模式畫面
│   └── main/          # 主要畫面（選單、設定等）
├── hooks/             # 自定義React Hooks
├── navigation/        # 導航配置
├── store/            # 狀態管理
├── types/            # TypeScript類型定義
├── utils/            # 工具函式
├── data/             # 靜態資料和配置
├── constants/        # 常數定義
└── assets/           # 靜態資源

```

### 3.3 核心模組

### 遊戲引擎模組

- **遊戲循環管理**：處理遊戲狀態更新和渲染
- **輸入驗證系統**：日文輸入處理和驗證
- **分數計算系統**：評分、連擊、等級管理
- **難度調整系統**：自適應難度和進度追蹤

### 詞彙管理系統

- **多主題詞彙庫**：99個漢字詞彙，8個主要分類
- **JLPT等級分類**：N5-N1難度分級
- **智能選詞算法**：根據用戶程度動態選擇

### 日文輸入處理

- **三段式輸入支援**：は→ば→ぱ 轉換
- **跨文字系統轉換**：平假名↔片假名
- **IME相容性**：支援各種日文輸入法

---

## 🎮 功能規格

### 4.1 核心遊戲模式

### 4.1.1 練習模式

- **功能描述**：50音練習、詞彙練習
- **技術實現**：分級練習系統
- **用戶體驗**：系統化學習進度

### 4.1.2 單字方塊模式

- **功能描述**：俄羅斯方塊風格的單字學習
- **技術實現**：
    - 2格方塊（H型、V型）：2字漢字詞彙（58個）
    - 3格方塊（L型、J型）：3字漢字詞彙（41個）
    - 智能難度遞增（第5關開始2字，第10關開始3字）
- **用戶體驗**：視覺化學習，寓教於樂

### 4.1.3 長文模式

- **功能描述**：完整文章打字練習
- **技術實現**：
    - 字符映射系統
    - 進度追蹤
    - 錯誤分析
- **用戶體驗**：實用性練習，接近真實使用場景

### 4.2 輸入系統特色

### 4.2.1 高級日文輸入處理

- **濁音半濁音轉換**：支援三段式輸入（は→ば→ぱ）
- **跨文字系統支援**：平假名輸入匹配片假名目標
- **智能錯誤處理**：區分「錯誤」和「可繼續」狀態
- **即時反饋**：視覺化輸入狀態指示

### 4.2.2 相容性保證

- **多輸入法支援**：原生日文IME整合
- **跨平台一致性**：iOS/Android統一體驗
- **離線功能**：本地詞彙庫，無需網路連接

### 4.3 使用者介面設計

### 4.3.1 日式美學設計

- **色彩系統**：
    - 櫻花粉 (#FFB7C5)：溫暖、鼓勵
    - 抹茶綠 (#87A96B)：平靜、專注
    - 夕陽橙 (#FF6B35)：活力、成就
    - 深藍 (#1E40AF)：信任、科技
- **季節主題**：春夏秋冬動態切換
- **設計原則**：間（Ma）、侘寂（Wabi-Sabi）、簡素（Kanso）

### 4.3.2 用戶體驗優化

- **響應式設計**：支援各種螢幕尺寸
- **無障礙支援**：符合WCAG 2.1 AA標準
- **直觀操作**：3次點擊內完成主要任務
- **即時反饋**：所有操作都有視覺回饋