# ä¿„ç¾…æ–¯æ–¹å¡Šæ¨¡å¼é–‹ç™¼ç¸½çµ

## ðŸŽ® æ¨¡å¼æ¦‚è¿°

ä¿„ç¾…æ–¯æ–¹å¡Šæ¨¡å¼æ˜¯ Kana Tower çš„å‰µæ–°éŠæˆ²æ¨¡å¼ï¼Œçµåˆäº†ç¶“å…¸ä¿„ç¾…æ–¯æ–¹å¡Šçš„è¦–è¦ºå…ƒç´ èˆ‡æ—¥æ–‡å‡åå­¸ç¿’ã€‚

### ðŸŽ¯ æ ¸å¿ƒçŽ©æ³•
- **æ–¹å¡Šä¸‹è½**ï¼šéš¨æ©Ÿå½¢ç‹€ã€éš¨æ©Ÿä½ç½®ã€éš¨æ©Ÿå‡åå–®å­—
- **è¼¸å…¥æŒ‘æˆ°**ï¼šçŽ©å®¶å¿…é ˆåœ¨æ–¹å¡Šè½åœ°å‰è¼¸å…¥å®Œæ•´å–®å­—
- **æˆåŠŸæ¶ˆé™¤**ï¼šè¼¸å…¥æ­£ç¢º â†’ æ–¹å¡Šæ¶ˆå¤± â†’ ä¸‹ä¸€å€‹æ–¹å¡Š
- **å¤±æ•—å †ç–Š**ï¼šè¼¸å…¥å¤±æ•—/è¶…æ™‚ â†’ æ–¹å¡Šå †ç–Šåœ¨åº•éƒ¨
- **éŠæˆ²çµæŸ**ï¼šå †ç–Šåˆ°é ‚éƒ¨
- **é›£åº¦æå‡**ï¼šæ¶ˆé™¤æ•¸é‡é”æ¨™ â†’ æŽ‰è½é€Ÿåº¦åŠ å¿«

## ðŸ“ æ–‡ä»¶çµæ§‹

### æ–°å‰µå»ºçš„æ–‡ä»¶
```
src/screens/game-modes/
â”œâ”€â”€ TetrisModeScreen.tsx          # ä¸»å±å¹• (587è¡Œ)

src/data/
â”œâ”€â”€ tetrisData.ts                 # å–®å­—æ•¸æ“š (200+è¡Œ)
```

### ä¿®æ”¹çš„æ–‡ä»¶
```
src/screens/main/
â”œâ”€â”€ GameScreen.tsx                # æ·»åŠ è·¯ç”±æ”¯æŒ

src/types/
â”œâ”€â”€ index.ts                      # é¡žåž‹å®šç¾©å·²å­˜åœ¨

src/utils/
â”œâ”€â”€ featureFlags.ts               # åŠŸèƒ½é–‹é—œå·²å­˜åœ¨
```

## ðŸŽ¨ è¨­è¨ˆç‰¹è‰²

### ðŸŽ® éŠæˆ²æ©Ÿåˆ¶
- **7ç¨®ä¿„ç¾…æ–¯æ–¹å¡Šå½¢ç‹€**ï¼šIã€Oã€Tã€Lã€Jã€Sã€Z
- **æ™ºèƒ½å–®å­—åŒ¹é…**ï¼šæ ¹æ“šæ–¹å¡Šå¤§å°é¸æ“‡åˆé©é•·åº¦çš„å–®å­—
- **å‹•æ…‹é›£åº¦èª¿æ•´**ï¼šæ¯10å€‹æ–¹å¡Šå‡ç´šï¼Œé€Ÿåº¦åŠ å¿«10%
- **åˆ†æ•¸ç³»çµ±**ï¼šåŸºç¤Žåˆ†æ•¸ Ã— å­—ç¬¦é•·åº¦ Ã— ç­‰ç´šå€æ•¸

### ðŸŽ¯ å­¸ç¿’ç³»çµ±
- **åˆ†ç´šå–®å­—åº«**ï¼š
  - åˆç´šï¼š24å€‹åŸºç¤Žå–®å­—ï¼ˆ3-4å­—ï¼‰
  - ä¸­ç´šï¼š18å€‹é€²éšŽå–®å­—ï¼ˆ4-5å­—ï¼‰
  - é«˜ç´šï¼š13å€‹è¤‡é›œå–®å­—ï¼ˆ5-6å­—ï¼‰
- **åˆ†é¡žå­¸ç¿’**ï¼šäººç‰©ã€å ´æ‰€ã€é£Ÿç‰©ã€æ™‚é–“ã€è·æ¥­ç­‰12å€‹é¡žåˆ¥
- **é¡žåž‹æ”¯æŒ**ï¼šå¹³å‡åã€ç‰‡å‡åã€æ··åˆæ¨¡å¼

### ðŸŽ¨ è¦–è¦ºè¨­è¨ˆ
- **æ·±è‰²ä¸»é¡Œ**ï¼š`#1a1a2e` èƒŒæ™¯ï¼Œç‡Ÿé€ å°ˆæ³¨æ°›åœ
- **å½©è‰²æ–¹å¡Š**ï¼š8ç¨®é®®è±”é¡è‰²ï¼Œè¦–è¦ºå€åˆ†
- **æ¸…æ™°UI**ï¼šåˆ†æ•¸ã€ç­‰ç´šã€é€²åº¦ä¸€ç›®äº†ç„¶
- **éŸ¿æ‡‰å¼å¸ƒå±€**ï¼šé©é…ä¸åŒå±å¹•å°ºå¯¸

## ðŸ”§ æŠ€è¡“å¯¦ç¾

### æ ¸å¿ƒçµ„ä»¶
1. **TetrisModeScreen**ï¼šä¸»éŠæˆ²é‚è¼¯
2. **æ–¹å¡Šç³»çµ±**ï¼šå½¢ç‹€å®šç¾©ã€ç¢°æ’žæª¢æ¸¬ã€ä¸‹è½é‚è¼¯
3. **è¼¸å…¥ç³»çµ±**ï¼šå¯¦æ™‚é©—è­‰ã€å³æ™‚åé¥‹
4. **æ•¸æ“šç³»çµ±**ï¼šæ™ºèƒ½å–®å­—é¸æ“‡ã€åˆ†ç´šç®¡ç†

### é—œéµç®—æ³•
```typescript
// æ–¹å¡Šå­—ç¬¦æ•¸è¨ˆç®—
const getShapeCharCount = (shape: number[][]): number => {
  let count = 0;
  for (let row = 0; row < shape.length; row++) {
    for (let col = 0; col < shape[row].length; col++) {
      if (shape[row][col] === 1) count++;
    }
  }
  return count;
};

// æ™ºèƒ½å–®å­—é¸æ“‡
const word = getWordByLength(charCount, settings.difficulty, settings.wordType);
```

### ç‹€æ…‹ç®¡ç†
- **éŠæˆ²ç‹€æ…‹**ï¼šidle â†’ playing â†’ paused/finished
- **æ–¹å¡Šç‹€æ…‹**ï¼šä½ç½®ã€å½¢ç‹€ã€å–®å­—ã€é¡è‰²
- **åˆ†æ•¸ç‹€æ…‹**ï¼šç•¶å‰åˆ†æ•¸ã€ç­‰ç´šã€å·²æ¶ˆé™¤æ•¸é‡
- **è¨­å®šç‹€æ…‹**ï¼šé›£åº¦ã€å–®å­—é¡žåž‹

## ðŸŽ¯ éŠæˆ²å¹³è¡¡

### æ™‚é–“è¨­å®š
- **åˆå§‹é€Ÿåº¦**ï¼š2ç§’ä¸‹è½ä¸€æ ¼
- **åŠ é€Ÿä¿‚æ•¸**ï¼šæ¯ç´šåŠ é€Ÿ10%ï¼ˆÃ—0.9ï¼‰
- **æœ€ä½Žé€Ÿåº¦**ï¼š0.5ç§’ï¼ˆé˜²æ­¢éŽå¿«ï¼‰

### åˆ†æ•¸ç³»çµ±
- **åŸºç¤Žåˆ†æ•¸**ï¼šå­—ç¬¦æ•¸ Ã— 10
- **ç­‰ç´šå€æ•¸**ï¼šç•¶å‰ç­‰ç´š
- **ç¸½åˆ†å…¬å¼**ï¼šåŸºç¤Žåˆ†æ•¸ Ã— ç­‰ç´š

### å‡ç´šæ©Ÿåˆ¶
- **å‡ç´šæ¢ä»¶**ï¼šæ¯æ¶ˆé™¤10å€‹æ–¹å¡Š
- **å‡ç´šæ•ˆæžœ**ï¼šç­‰ç´š+1ï¼Œé€Ÿåº¦åŠ å¿«
- **è¦–è¦ºåé¥‹**ï¼šåˆ†æ•¸å¢žåŠ ï¼Œé€Ÿåº¦è®ŠåŒ–

## ðŸŽ® ç”¨æˆ¶é«”é©—

### ç•Œé¢æµç¨‹
1. **é–‹å§‹å±å¹•**ï¼šé¡¯ç¤ºæ¨¡å¼ä»‹ç´¹ã€è¨­å®šä¿¡æ¯
2. **éŠæˆ²å±å¹•**ï¼šéŠæˆ²æ¿ã€å–®å­—é¡¯ç¤ºã€è¼¸å…¥æ¡†ã€æŽ§åˆ¶æŒ‰éˆ•
3. **çµæŸå±å¹•**ï¼šæœ€çµ‚åˆ†æ•¸ã€çµ±è¨ˆä¿¡æ¯ã€é‡æ–°é–‹å§‹é¸é …

### äº¤äº’è¨­è¨ˆ
- **è‡ªå‹•èšç„¦**ï¼šéŠæˆ²é–‹å§‹æ™‚è¼¸å…¥æ¡†è‡ªå‹•èšç„¦
- **å³æ™‚åé¥‹**ï¼šè¼¸å…¥æ­£ç¢ºç«‹å³æ¶ˆé™¤æ–¹å¡Š
- **æš«åœåŠŸèƒ½**ï¼šæ”¯æŒæš«åœ/æ¢å¾©éŠæˆ²
- **è¿”å›žåŠŸèƒ½**ï¼šéš¨æ™‚è¿”å›žä¸»é¸å–®

### è¦–è¦ºåé¥‹
- **æ–¹å¡Šå‹•ç•«**ï¼šå¹³æ»‘ä¸‹è½å‹•ç•«
- **æ¶ˆé™¤æ•ˆæžœ**ï¼šæ–¹å¡Šæ¶ˆå¤±æ•ˆæžœ
- **åˆ†æ•¸å‹•ç•«**ï¼šåˆ†æ•¸å¢žåŠ å‹•ç•«
- **ç‹€æ…‹æŒ‡ç¤º**ï¼šæ¸…æ™°çš„éŠæˆ²ç‹€æ…‹é¡¯ç¤º

## ðŸ“Š æ•¸æ“šçµæ§‹

### å–®å­—æ•¸æ“š
```typescript
interface TetrisWord {
  word: string;      // é¡¯ç¤ºæ–‡å­—
  kana: string;      // è¼¸å…¥å‡å
  meaning: string;   // ä¸­æ–‡æ„æ€
  difficulty: DifficultyLevel;
  category: string;  // åˆ†é¡ž
}
```

### æ–¹å¡Šæ•¸æ“š
```typescript
interface TetrisPiece {
  id: string;
  shape: number[][];
  word: string;
  kana: string;
  meaning: string;
  x: number;
  y: number;
  color: string;
}
```

## ðŸš€ åŠŸèƒ½ç‰¹è‰²

### âœ¨ å‰µæ–°é»ž
1. **æ•™è‚²éŠæˆ²åŒ–**ï¼šå°‡å­¸ç¿’èžå…¥ç¶“å…¸éŠæˆ²
2. **æ™ºèƒ½åŒ¹é…**ï¼šæ–¹å¡Šå¤§å°èˆ‡å–®å­—é•·åº¦åŒ¹é…
3. **åˆ†ç´šå­¸ç¿’**ï¼šå¾žç°¡å–®åˆ°è¤‡é›œçš„å­¸ç¿’è·¯å¾‘
4. **å³æ™‚åé¥‹**ï¼šè¼¸å…¥æ­£ç¢ºç«‹å³ç²å¾—æˆå°±æ„Ÿ

### ðŸŽ¯ å­¸ç¿’æ•ˆæžœ
1. **è¨˜æ†¶å¼·åŒ–**ï¼šé‡è¤‡è¼¸å…¥åŠ æ·±è¨˜æ†¶
2. **å£“åŠ›å­¸ç¿’**ï¼šæ™‚é–“å£“åŠ›æé«˜å°ˆæ³¨åº¦
3. **åˆ†é¡žå­¸ç¿’**ï¼šæŒ‰ä¸»é¡Œåˆ†é¡žä¾¿æ–¼è¨˜æ†¶
4. **é€²éšŽæŒ‘æˆ°**ï¼šé›£åº¦éžå¢žä¿æŒæŒ‘æˆ°æ€§

## ðŸ”„ æœªä¾†æ“´å±•

### å¯èƒ½çš„æ”¹é€²
1. **æ›´å¤šæ–¹å¡Šå½¢ç‹€**ï¼šè‡ªå®šç¾©å½¢ç‹€
2. **ç‰¹æ®Šæ•ˆæžœ**ï¼šé€£æ“Šæ•ˆæžœã€ç‰¹æ®Šæ–¹å¡Š
3. **å¤šäººæ¨¡å¼**ï¼šç«¶æŠ€å°æˆ°
4. **æˆå°±ç³»çµ±**ï¼šè§£éŽ–æˆå°±ã€æ”¶é›†å¾½ç« 
5. **çµ±è¨ˆåˆ†æž**ï¼šè©³ç´°çš„å­¸ç¿’åˆ†æž

### æŠ€è¡“å„ªåŒ–
1. **æ€§èƒ½å„ªåŒ–**ï¼šæ›´æµæš¢çš„å‹•ç•«
2. **éŸ³æ•ˆç³»çµ±**ï¼šæ·»åŠ éŸ³æ•ˆåé¥‹
3. **è§¸æŽ§æ”¯æŒ**ï¼šæ‰‹å‹¢æ“ä½œ
4. **é›¢ç·šæ¨¡å¼**ï¼šæœ¬åœ°æ•¸æ“šå­˜å„²

## ðŸ“ é–‹ç™¼å¿ƒå¾—

### æˆåŠŸè¦ç´ 
1. **æ¸…æ™°çš„æ¦‚å¿µ**ï¼šéŠæˆ²æ©Ÿåˆ¶ç°¡å–®æ˜“æ‡‚
2. **æ¨¡çµ„åŒ–è¨­è¨ˆ**ï¼šçµ„ä»¶åˆ†é›¢ï¼Œæ˜“æ–¼ç¶­è­·
3. **æ•¸æ“šé©…å‹•**ï¼šéˆæ´»çš„å–®å­—ç®¡ç†ç³»çµ±
4. **ç”¨æˆ¶é«”é©—**ï¼šç›´è§€çš„ç•Œé¢è¨­è¨ˆ

### æŠ€è¡“æŒ‘æˆ°
1. **ç¢°æ’žæª¢æ¸¬**ï¼šæ–¹å¡Šèˆ‡é‚Šç•Œçš„ç²¾ç¢ºæª¢æ¸¬
2. **ç‹€æ…‹åŒæ­¥**ï¼šéŠæˆ²ç‹€æ…‹çš„ä¸€è‡´æ€§ç®¡ç†
3. **æ€§èƒ½å„ªåŒ–**ï¼šæµæš¢çš„å‹•ç•«å’ŒéŸ¿æ‡‰
4. **æ•¸æ“šå¹³è¡¡**ï¼šåˆé©çš„éŠæˆ²é›£åº¦æ›²ç·š

## ðŸŽ‰ ç¸½çµ

ä¿„ç¾…æ–¯æ–¹å¡Šæ¨¡å¼æˆåŠŸåœ°å°‡ç¶“å…¸éŠæˆ²æ©Ÿåˆ¶èˆ‡æ—¥æ–‡å­¸ç¿’ç›¸çµåˆï¼Œå‰µé€ äº†ä¸€å€‹æ—¢æœ‰è¶£åˆæœ‰æ•™è‚²æ„ç¾©çš„éŠæˆ²é«”é©—ã€‚é€šéŽæ™ºèƒ½çš„å–®å­—åŒ¹é…ã€åˆ†ç´šçš„å­¸ç¿’ç³»çµ±å’Œæµæš¢çš„éŠæˆ²é«”é©—ï¼Œç‚ºç”¨æˆ¶æä¾›äº†ä¸€å€‹å…¨æ–°çš„æ—¥æ–‡å­¸ç¿’æ–¹å¼ã€‚

é€™å€‹æ¨¡å¼ä¸åƒ…è±å¯Œäº† Kana Tower çš„éŠæˆ²å…§å®¹ï¼Œä¹Ÿå±•ç¤ºäº†æ•™è‚²éŠæˆ²åŒ–çš„å·¨å¤§æ½›åŠ›ã€‚æœªä¾†å¯ä»¥åœ¨æ­¤åŸºç¤Žä¸Šç¹¼çºŒæ“´å±•ï¼Œæ·»åŠ æ›´å¤šå‰µæ–°åŠŸèƒ½ï¼Œé€²ä¸€æ­¥æå‡å­¸ç¿’æ•ˆæžœå’Œç”¨æˆ¶é«”é©—ã€‚

---
*é–‹ç™¼å®Œæˆæ—¥æœŸï¼š2024å¹´12æœˆ*
*ç¸½ä»£ç¢¼è¡Œæ•¸ï¼šç´„800è¡Œ*
*é–‹ç™¼æ™‚é–“ï¼šç´„2å°æ™‚* 