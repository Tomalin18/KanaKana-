# 漢字方塊功能說明

## 功能概述
在俄羅斯方塊模式中，從第5關開始會出現漢字方塊，增加遊戲挑戰性。

## 功能特點

### 1. 分級出現系統
- **第5關開始**: 出現2字漢字方塊（如：学校、先生、友達等）
- **第10關開始**: 出現3字漢字方塊（如：図書館、郵便局、警察官等）

### 2. 新增方塊形狀
為了支援漢字方塊，新增了專門的2格方塊：
- **H型方塊**: 水平2格 `[[1, 1]]`
- **V型方塊**: 垂直2格 `[[1], [1]]`

### 3. 出現機率
- **第5-9關**: 2格方塊有30%機率是漢字
- **第10關以上**: 
  - 2格方塊有30%機率是漢字
  - 3格方塊有40%機率是漢字

### 4. 遊戲玩法
- **漢字方塊顯示**: 方塊上顯示漢字字符
- **輸入要求**: 需要輸入完整的假名讀音（如：がっこう）
- **提示信息**: 顯示"輸入完整讀音來消除漢字方塊"

## 漢字數據

### 2字漢字（第5關開始）
包含**58個**常用漢字詞彙，分為8個類別：

#### 場所類（10個）
- 学校 (がっこう) - 學校
- 病院 (びょういん) - 醫院
- 銀行 (ぎんこう) - 銀行
- 公園 (こうえん) - 公園
- 駅前 (えきまえ) - 車站前
- 空港 (くうこう) - 機場
- 会社 (かいしゃ) - 公司
- 工場 (こうじょう) - 工廠
- 市場 (いちば) - 市場
- 神社 (じんじゃ) - 神社

#### 人物類（8個）
- 先生 (せんせい) - 老師
- 友達 (ともだち) - 朋友
- 家族 (かぞく) - 家人
- 両親 (りょうしん) - 父母
- 兄弟 (きょうだい) - 兄弟
- 姉妹 (しまい) - 姐妹
- 夫婦 (ふうふ) - 夫妻
- 恋人 (こいびと) - 戀人

#### 交通類（6個）
- 電車 (でんしゃ) - 電車
- 地下鉄 (ちかてつ) - 地鐵
- 新幹線 (しんかんせん) - 新幹線
- 自動車 (じどうしゃ) - 汽車
- 自転車 (じてんしゃ) - 腳踏車
- 飛行機 (ひこうき) - 飛機

#### 趣味娛樂類（8個）
- 映画 (えいが) - 電影
- 音楽 (おんがく) - 音樂
- 読書 (どくしょ) - 讀書
- 写真 (しゃしん) - 照片
- 旅行 (りょこう) - 旅行
- 運動 (うんどう) - 運動
- 散歩 (さんぽ) - 散步
- 買物 (かいもの) - 購物

#### 動作類（8個）
- 料理 (りょうり) - 料理
- 勉強 (べんきょう) - 學習
- 仕事 (しごと) - 工作
- 掃除 (そうじ) - 打掃
- 洗濯 (せんたく) - 洗衣
- 準備 (じゅんび) - 準備
- 練習 (れんしゅう) - 練習
- 休憩 (きゅうけい) - 休息

#### 時間類（10個）
- 時間 (じかん) - 時間
- 今日 (きょう) - 今天
- 明日 (あした) - 明天
- 昨日 (きのう) - 昨天
- 今年 (ことし) - 今年
- 来年 (らいねん) - 明年
- 去年 (きょねん) - 去年
- 今月 (こんげつ) - 這個月
- 来月 (らいげつ) - 下個月
- 先月 (せんげつ) - 上個月

#### 食物類（8個）
- 食事 (しょくじ) - 用餐
- 朝食 (ちょうしょく) - 早餐
- 昼食 (ちゅうしょく) - 午餐
- 夕食 (ゆうしょく) - 晚餐
- 野菜 (やさい) - 蔬菜
- 果物 (くだもの) - 水果
- 肉類 (にくるい) - 肉類
- 魚類 (ぎょるい) - 魚類

### 3字漢字（第10關開始）
包含**41個**進階漢字詞彙，分為6個類別：

#### 場所類（12個）
- 図書館 (としょかん) - 圖書館
- 郵便局 (ゆうびんきょく) - 郵局
- 市役所 (しやくしょ) - 市政府
- 区役所 (くやくしょ) - 區公所
- 警察署 (けいさつしょ) - 警察局
- 消防署 (しょうぼうしょ) - 消防局
- 美術館 (びじゅつかん) - 美術館
- 博物館 (はくぶつかん) - 博物館
- 動物園 (どうぶつえん) - 動物園
- 植物園 (しょくぶつえん) - 植物園
- 遊園地 (ゆうえんち) - 遊樂園
- 水族館 (すいぞくかん) - 水族館

#### 職業類（12個）
- 警察官 (けいさつかん) - 警察
- 消防士 (しょうぼうし) - 消防員
- 看護師 (かんごし) - 護士
- 研究者 (けんきゅうしゃ) - 研究者
- 技術者 (ぎじゅつしゃ) - 技術人員
- 営業員 (えいぎょういん) - 業務員
- 事務員 (じむいん) - 事務員
- 販売員 (はんばいいん) - 銷售員
- 運転手 (うんてんしゅ) - 司機
- 料理人 (りょうりにん) - 廚師
- 美容師 (びようし) - 美髮師
- 建築家 (けんちくか) - 建築師

#### 人物類（8個）
- 大学生 (だいがくせい) - 大學生
- 高校生 (こうこうせい) - 高中生
- 中学生 (ちゅうがくせい) - 國中生
- 小学生 (しょうがくせい) - 小學生
- 会社員 (かいしゃいん) - 上班族
- 公務員 (こうむいん) - 公務員
- 外国人 (がいこくじん) - 外國人
- 日本人 (にほんじん) - 日本人

#### 學校活動類（6個）
- 運動会 (うんどうかい) - 運動會
- 文化祭 (ぶんかさい) - 文化祭
- 入学式 (にゅうがくしき) - 入學典禮
- 卒業式 (そつぎょうしき) - 畢業典禮
- 修学旅行 (しゅうがくりょこう) - 修學旅行
- 部活動 (ぶかつどう) - 社團活動

#### 季節活動類（5個）
- 花見会 (はなみかい) - 賞花會
- 忘年会 (ぼうねんかい) - 忘年會
- 新年会 (しんねんかい) - 新年會
- 歓迎会 (かんげいかい) - 歡迎會
- 送別会 (そうべつかい) - 送別會

## 技術實現

### 1. 數據結構擴展
```typescript
export interface TetrisWord {
  word: string;
  kana: string;
  meaning: string;
  difficulty: DifficultyLevel;
  category: string;
  kanji?: string; // 漢字版本（可選）
  isKanji?: boolean; // 是否為漢字方塊
}
```

### 2. 新增方塊形狀
```typescript
const TETRIS_SHAPES = {
  // 原有形狀...
  H: [[1, 1]], // 水平2格 - 2格
  V: [[1], [1]], // 垂直2格 - 2格
};
```

### 3. 智能選詞函數
```typescript
export const getWordByLevelAndLength = (
  targetLength: number,
  level: number,
  difficulty: DifficultyLevel,
  wordType: 'hiragana' | 'katakana' | 'mixed' = 'mixed'
): TetrisWord
```

### 4. 顯示邏輯
- 方塊上顯示漢字字符
- 單字信息區顯示漢字、讀音和意思
- 特殊提示文字提醒玩家輸入讀音

## 學習效果
1. **漢字認識**: 通過視覺記憶加深漢字印象
2. **讀音練習**: 強化漢字與假名的對應關係
3. **詞彙擴展**: 學習常用日語詞彙（總計99個漢字詞彙）
4. **分級學習**: 循序漸進的難度提升
5. **分類學習**: 按主題分類，便於記憶

## 遊戲體驗提升
- 增加遊戲挑戰性和趣味性
- 提供更豐富的學習內容
- 鼓勵玩家持續遊戲以解鎖新內容
- 結合娛樂與學習的完美平衡
- 大幅擴增的詞彙庫提供更多變化 